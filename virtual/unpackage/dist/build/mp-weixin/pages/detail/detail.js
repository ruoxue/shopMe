(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/detail/detail"],{"149f":function(o,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return e})),t.d(n,"a",(function(){return s}));var s={vkUGoodsSkuPopup:function(){return Promise.all([t.e("common/vendor"),t.e("components/vk-u-goods-sku-popup/vk-u-goods-sku-popup")]).then(t.bind(null,"d653"))}},i=function(){var o=this,n=o.$createElement;o._self._c},e=[]},2855:function(o,n,t){"use strict";(function(o,t){var s;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={data:function(){return{banner:[],goods:{},sku_key:!1,id:"",specData:""}},onLoad:function(o){this.id=o.id,s=this},mounted:function(){s=this,this.loadData()},methods:{buy:function(){if(10==this.goods[""]){var o={goods_id:s.goods.goods_id,goods_num:1,goods_sku_id:selectShop.goods_spec_id};this.submit(o)}else this.sku_key=!0},onPullDownRefresh:function(){this.loadData()},loadData:function(){this.$net.fetch((function(o){s.goods=o.detail,s.specData=o.specData,s.banner=s.goods.slider.split("|")}),this.$net.detail,{goods_id:s.id,page:s.page},"post")},gotoCart:function(){console.log(123),o.reLaunch({url:"../cart/cart"})},addCartFn:function(n){var t=n.selectShop,i={goods_id:s.goods.goods_id,goods_num:t.buy_num,goods_sku_id:t.goods_spec_id,goods_sku_info:t.goods_sku.join("-")},e=this;this.$net.fetch((function(n){e.sku_key=!1,o.showToast({title:n,icon:"none"})}),this.$net.addCart,i,"post")},addCart:function(o){console.log("监听 - 加入购物车"),s.addCartFn({selectShop:o,success:function(o){s.toast(o.msg)}})},buyNow:function(o){console.log(o);var n={goods_id:s.goods.goods_id,goods_num:o.buy_num,goods_sku_id:o.goods_spec_id,goods_sku_info:o.goods_sku.join("-")};this.submit(n)},submit:function(n){this.$net.fetch((function(n){null==n.order_id||""==n.order_id?o.showToast({title:n.payment.msg,icon:"none"}):o.navigateTo({url:"../order/pay?id="+JSON.stringify(n)})}),this.$net.addOrder,n,"post")},findGoodsInfo:function(){var o=this;return new Promise((function(n,t){n(o.specData)}))},toast:function(n){o.showToast({title:n,icon:"none"})},callFunction:function(n){o.showLoading({title:"请求中"}),t.callFunction({name:"findGoodsInfo",data:{goods_id:s.goods_id},success:function(o){console.log(o),"function"==typeof n.success&&n.success(o.result)},fail:function(o){console.error(o)},complete:function(){o.hideLoading()}})}}};n.default=i}).call(this,t("543d")["default"],t("a9ff")["default"])},"3b7f":function(o,n,t){"use strict";t.r(n);var s=t("2855"),i=t.n(s);for(var e in s)"default"!==e&&function(o){t.d(n,o,(function(){return s[o]}))}(e);n["default"]=i.a},"610f":function(o,n,t){},"86ad":function(o,n,t){"use strict";var s=t("610f"),i=t.n(s);i.a},f0f1:function(o,n,t){"use strict";(function(o){t("16bf");s(t("66fd"));var n=s(t("f495"));function s(o){return o&&o.__esModule?o:{default:o}}o(n.default)}).call(this,t("543d")["createPage"])},f495:function(o,n,t){"use strict";t.r(n);var s=t("149f"),i=t("3b7f");for(var e in i)"default"!==e&&function(o){t.d(n,o,(function(){return i[o]}))}(e);t("86ad");var u,d=t("f0c5"),a=Object(d["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],u);n["default"]=a.exports}},[["f0f1","common/runtime","common/vendor"]]]);